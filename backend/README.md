# Weightloss Backend (Express + MongoDB Atlas)

This directory contains a minimal Express backend that uses MongoDB (Mongoose) for storage.

Features
- Email/password signup + login (bcrypt + JWT)
- User profile (GET/PUT /users/me)
- Logs CRUD (`/logs`) keyed by `id` and `date`
- Custom meals CRUD (`/customMeals`)

Run locally
1. Copy `.env.example` to `.env` and fill `MONGO_URI` and `JWT_SECRET`.
2. Install dependencies:
   ```bash
   cd backend
   npm install
   ```
3. Start the server:
   ```bash
   npm run dev
   ```

Railway deploy
1. Create a new project on Railway and connect a MongoDB plugin (Atlas or MongoDB add-on) or provide your connection string.
2. Set environment variables `MONGO_URI` and `JWT_SECRET` in Railway.
3. Deploy from this repository â€” Railway will run `npm start` by default.

API notes
- All routes under `/auth` return `{ token, user }` on successful signup/login. Include `Authorization: Bearer <token>` on protected requests.
- Logs and customMeals expect an `id` field generated by the client (keeps compatibility with the current frontend which uses `Date.now().toString()` IDs).

Next steps
- Update the frontend to call this backend instead of local AsyncStorage / Firebase.
- Add rate-limiting, validation, and CORS restrictions for production.
